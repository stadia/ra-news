<% content_for :title, "알 || AL 뉴스" %>

<div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8">
  <div class="w-full md:w-auto flex-grow">
      <%# <div class="flex gap-2">
          <input type="text" id="searchInput" placeholder="기사 검색..."
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500">
          <button id="searchBtn"
              class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors">
              검색
          </button>
      </div> %>
  </div>
</div>

<div id="articlesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  <% @articles.each do |article| %>
    <div id="<%= dom_id article %>" class="bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow overflow-hidden flex flex-col border border-gray-100">
      <div class="p-6 flex flex-col flex-grow">
        <div class="mb-2">
          <h2 class="text-2xl font-semibold text-gray-800 mt-1 mb-1"><%= link_to article.title_ko || article.title, article_path(article.slug) %></h2>
          <%= link_to article.url, article.url, target: "_blank", class: "block md:inline ml-0 md:ml-2 text-sm text-primary-600 hover:text-primary-700 hover:underline" %>
        </div>
        <div class="text-gray-600 mb-4">
          <% if article.summary_key.is_a?(Array) %>
          <ul class="list-none pl-2 space-y-1">
              <% article.summary_key&.each do %>
                  <li class="text-gray-600"><%= it %></li>
              <% end %>
          </ul>
          <% end %>
        </div>
        <div class="mt-auto pt-4 flex justify-between text-sm text-gray-500 border-t border-gray-100">
            <span>작성자: <%= article.user&.name %></span>
            <span><%= article.published_at&.strftime("%Y-%m-%d") %></span>
        </div>
      </div>
    </div>
  <% end %>
</div>

<%== pagy_nav(@pagy) %>
